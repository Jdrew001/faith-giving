<div class="give-page" [formGroup]="givingForm">
    <div class="flex justify-content-center align-content-center" [ngSwitch]="activeFormIndex">
        <p-card class="flex justify-content-center align-content-center">
            <div class="card-container">
                <ng-container 
                    *ngSwitchCase="0">
                    <div class="row mb-2">
                        <h5 class="mb-0">Your Details</h5>
                    </div>
                    <faith-giving-user-details [formSubmitted]="formSubmitted"></faith-giving-user-details>

                    <div class="row mb-2">
                        <h5 class="mb-0">Tithe Details</h5>
                    </div>

                    <faith-giving-giving-details [formSubmitted]="formSubmitted"></faith-giving-giving-details>

                    <div class="row mb-3">
                        <p-checkbox name="groupname" [binary]="true" formControlName="feeCovered" label="Help cover the card processing fee?"></p-checkbox>
                        <label><em style="font-size: 10px">Total + (2.2% + $0.30)</em></label>
                    </div>
    
                    <div class="row mb-3">
                        <p>Giving Total: {{giveTotal | currency}}</p>
                    </div>
    
                    <div class="row">
                        <hr>
                    </div>
    
                    <div class="row mb-4">
                        <button (click)="payWithStripe()" style="width: 100%" pButton type="button" class="p-button-raised p-button-sm" icon="pi pi-credit-card" iconPos="right">Pay with Stripe</button>
                    </div>

                    <div class="row">
                        <div class="col-md-12 p-0 text-center">
                            <a (click)="clearFields()" class="clear-btn">Clear</a>
                        </div>
                    </div>
                </ng-container>

                <ng-container 
                    *ngSwitchCase="1">
                    <div class="row mb-2">
                        <h5 class="mb-0">Card Details</h5>
                    </div>

                    <faith-giving-card-details
                        [formSubmitted]="formSubmitted"
                        [stripe]="stripe"
                        (submit$)="submitForm($event)"
                        (backToPrevious$)="previous()"></faith-giving-card-details>
                </ng-container>
            </div>
        </p-card>
    </div>
</div>
<p-toast position="bottom-center"></p-toast>